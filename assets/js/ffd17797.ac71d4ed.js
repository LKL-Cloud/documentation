"use strict";(globalThis.webpackChunkmon_site=globalThis.webpackChunkmon_site||[]).push([[5040],{2693(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"gmod/config","title":"Configurer son serveur GMOD","description":"Configuration compl\xe8te de votre serveur Garry\'s Mod pour des performances optimales.","source":"@site/docs/gmod/config.md","sourceDirName":"gmod","slug":"/gmod/config","permalink":"/gmod/config","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1771969376000,"frontMatter":{"title":"Configurer son serveur GMOD"},"sidebar":"docs","previous":{"title":"Choisir son mode GMOD","permalink":"/gmod/modes"},"next":{"title":"Installer WireMod","permalink":"/gmod/wiremod"}}');var i=s(4848),a=s(8453);const o={title:"Configurer son serveur GMOD"},l=void 0,d={},t=[{value:"Configuration de base",id:"configuration-de-base",level:2},{value:"server.cfg",id:"servercfg",level:3},{value:"Commande de d\xe9marrage",id:"commande-de-d\xe9marrage",level:3},{value:"Steam Game Server Login Token",id:"steam-game-server-login-token",level:3},{value:"Workshop Collection",id:"workshop-collection",level:2},{value:"Cr\xe9er une collection",id:"cr\xe9er-une-collection",level:3},{value:"Configuration Workshop",id:"configuration-workshop",level:3},{value:"resource.AddWorkshop",id:"resourceaddworkshop",level:3},{value:"Configuration DarkRP",id:"configuration-darkrp",level:2},{value:"darkrpmodification/lua/darkrp_config.lua",id:"darkrpmodificationluadarkrp_configlua",level:3},{value:"Cr\xe9er des jobs personnalis\xe9s",id:"cr\xe9er-des-jobs-personnalis\xe9s",level:3},{value:"Cr\xe9er des entit\xe9s",id:"cr\xe9er-des-entit\xe9s",level:3},{value:"Shipments (Caisses d&#39;armes)",id:"shipments-caisses-darmes",level:3},{value:"Optimisation des performances",id:"optimisation-des-performances",level:2},{value:"Server.cfg optimis\xe9",id:"servercfg-optimis\xe9",level:3},{value:"Limiter les props (Sandbox/DarkRP)",id:"limiter-les-props-sandboxdarkrp",level:3},{value:"Cleanup automatique",id:"cleanup-automatique",level:3},{value:"Configuration ULX/ULib",id:"configuration-ulxulib",level:2},{value:"Installation",id:"installation",level:3},{value:"Groupes et permissions",id:"groupes-et-permissions",level:3},{value:"Commandes utiles",id:"commandes-utiles",level:3},{value:"Configuration avanc\xe9e",id:"configuration-avanc\xe9e",level:2},{value:"Loading Screen personnalis\xe9e",id:"loading-screen-personnalis\xe9e",level:3},{value:"Message de bienvenue (MOTD)",id:"message-de-bienvenue-motd",level:3},{value:"MySQL pour DarkRP",id:"mysql-pour-darkrp",level:3},{value:"Anti-cheat et s\xe9curit\xe9",id:"anti-cheat-et-s\xe9curit\xe9",level:2},{value:"Netvar Protection",id:"netvar-protection",level:3},{value:"Scanner backdoors",id:"scanner-backdoors",level:3},{value:"Permissions fichiers",id:"permissions-fichiers",level:3},{value:"Logs et monitoring",id:"logs-et-monitoring",level:2},{value:"Logs d\xe9taill\xe9s",id:"logs-d\xe9taill\xe9s",level:3},{value:"ServerGuard Logs",id:"serverguard-logs",level:3},{value:"Sauvegardes automatiques",id:"sauvegardes-automatiques",level:2},{value:"D\xe9pannage",id:"d\xe9pannage",level:2},{value:"&quot;Connection failed after 4 retries&quot;",id:"connection-failed-after-4-retries",level:3},{value:"&quot;Pure server: file doesn&#39;t match&quot;",id:"pure-server-file-doesnt-match",level:3},{value:"Memory leak",id:"memory-leak",level:3},{value:"Lua errors",id:"lua-errors",level:3},{value:"Ressources",id:"ressources",level:2},{value:"Support",id:"support",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Configuration compl\xe8te de votre serveur Garry's Mod pour des performances optimales."}),"\n",(0,i.jsx)(n.h2,{id:"configuration-de-base",children:"Configuration de base"}),"\n",(0,i.jsx)(n.h3,{id:"servercfg",children:"server.cfg"}),"\n",(0,i.jsxs)(n.p,{children:["Fichier principal de configuration dans ",(0,i.jsx)(n.code,{children:"garrysmod/cfg/server.cfg"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'// Informations serveur\nhostname "Mon Serveur GMod | DarkRP | discord.gg/xxxxx"\nsv_password ""              // Mot de passe (vide = public)\nrcon_password "motdepasse_securise"\n\n// R\xe9seau\nsv_region "3"               // 3 = Europe\nsv_lan 0                    // 0 = Internet\nsv_allowdownload 1\nsv_allowupload 1\nsv_downloadurl "http://fastdl.monsite.com/gmod/"\n\n// Gameplay\nsv_defaultgamemode "darkrp"\ngamemode "darkrp"\nmap "rp_downtown_v4c_v2"\n\n// Limites joueurs\nsv_visiblemaxplayers 128    // Slots visibles\nmaxplayers 64              // Slots r\xe9els\n\n// Performance\nsv_loadingurl "https://monsite.com/loading.html"\nnet_maxfilesize 64         // MB max par fichier\nsv_minrate 100000\nsv_maxrate 500000\nsv_minupdaterate 33\nsv_maxupdaterate 66\nsv_mincmdrate 33\nsv_maxcmdrate 66\n\n// Logs\nlog on\nsv_logbans 1\nsv_logecho 1\nsv_logfile 1\nsv_log_onefile 0\n\n// S\xe9curit\xe9\nsv_allowcslua 0            // D\xe9sactiver Lua client\nsv_contact "admin@monsite.com"\nsv_cheats 0\nsv_pausable 0\n'})}),"\n",(0,i.jsx)(n.h3,{id:"commande-de-d\xe9marrage",children:"Commande de d\xe9marrage"}),"\n",(0,i.jsx)(n.p,{children:"Script de lancement optimis\xe9 :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\nscreen -dmS gmod ./srcds_run \\\n  -game garrysmod \\\n  -console \\\n  -ip 0.0.0.0 \\\n  -port 27015 \\\n  -maxplayers 64 \\\n  +gamemode darkrp \\\n  +map rp_downtown_v4c_v2 \\\n  +host_workshop_collection 123456789 \\\n  -authkey VOTRE_API_KEY \\\n  +sv_setsteamaccount "VOTRE_GSLT_TOKEN"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"steam-game-server-login-token",children:"Steam Game Server Login Token"}),"\n",(0,i.jsx)(n.p,{children:"N\xe9cessaire pour appara\xeetre sur la liste des serveurs :"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Allez sur ",(0,i.jsx)(n.a,{href:"https://steamcommunity.com/dev/managegameservers",children:"https://steamcommunity.com/dev/managegameservers"})]}),"\n",(0,i.jsxs)(n.li,{children:["App ID : ",(0,i.jsx)(n.strong,{children:"4000"})," (Garry's Mod)"]}),"\n",(0,i.jsx)(n.li,{children:"Copiez le token g\xe9n\xe9r\xe9"}),"\n",(0,i.jsx)(n.li,{children:"Ajoutez dans server.cfg :"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'sv_setsteamaccount "VOTRE_TOKEN"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"workshop-collection",children:"Workshop Collection"}),"\n",(0,i.jsx)(n.h3,{id:"cr\xe9er-une-collection",children:"Cr\xe9er une collection"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Allez sur Workshop GMod"}),"\n",(0,i.jsx)(n.li,{children:"Cr\xe9ez une collection avec tous vos addons"}),"\n",(0,i.jsx)(n.li,{children:"Notez l'ID de la collection (dans l'URL)"}),"\n",(0,i.jsxs)(n.li,{children:["Obtenez une cl\xe9 API : ",(0,i.jsx)(n.a,{href:"https://steamcommunity.com/dev/apikey",children:"https://steamcommunity.com/dev/apikey"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"configuration-workshop",children:"Configuration Workshop"}),"\n",(0,i.jsx)(n.p,{children:"Dans le script de lancement :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"+host_workshop_collection 123456789 \\\n-authkey VOTRE_CLE_API_STEAM\n"})}),"\n",(0,i.jsx)(n.p,{children:"Ou dans server.cfg :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'host_workshop_collection "123456789"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"resourceaddworkshop",children:"resource.AddWorkshop"}),"\n",(0,i.jsxs)(n.p,{children:["Alternative dans ",(0,i.jsx)(n.code,{children:"lua/autorun/server/workshop.lua"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- Addons individuels\nresource.AddWorkshop("123456789")\nresource.AddWorkshop("987654321")\nresource.AddWorkshop("555555555")\n\n-- OU collection compl\xe8te\nresource.AddWorkshopCollection("123456789")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-darkrp",children:"Configuration DarkRP"}),"\n",(0,i.jsx)(n.h3,{id:"darkrpmodificationluadarkrp_configlua",children:"darkrpmodification/lua/darkrp_config.lua"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- Langue\nGM.Config.language = "fr"\n\n-- \xc9conomie\nGM.Config.currency = "\u20ac"\nGM.Config.startingmoney = 500\nGM.Config.moneypocketconfiscateamount = 250\n\n-- Salaire\nGM.Config.payday = 150\nGM.Config.paydelay = 160\n\n-- Portes\nGM.Config.doorcost = 30\nGM.Config.maxdoors = 6\n\n-- Props\nGM.Config.restrictallteams = false\nGM.Config.allowrpnames = true\nGM.Config.strictsuicide = true\n\n-- Armes\nGM.Config.dropweaponondeath = true\nGM.Config.dropmoneyondeath = false\n\n-- Voix\nGM.Config.voiceradius = 550\nGM.Config.talkietalkie = true\n'})}),"\n",(0,i.jsx)(n.h3,{id:"cr\xe9er-des-jobs-personnalis\xe9s",children:"Cr\xe9er des jobs personnalis\xe9s"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"darkrpmodification/lua/darkrp_customthings/jobs.lua"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'-- Job Mafioso\nTEAM_MAFIA = DarkRP.createJob("Mafioso", {\n    color = Color(75, 75, 75),\n    model = {\n        "models/player/gman_high.mdl",\n        "models/player/hostage/hostage_01.mdl"\n    },\n    description = [[Vous faites partie de la mafia.\n        Prot\xe9gez votre territoire et vos affaires.]],\n    weapons = {"m9k_usp", "lockpick"},\n    command = "mafia",\n    max = 4,\n    salary = 100,\n    admin = 0,\n    vote = false,\n    hasLicense = false,\n    candemote = true,\n    category = "Criminel",\n    PlayerSpawn = function(ply)\n        ply:SetMaxHealth(120)\n        ply:SetHealth(120)\n        ply:SetArmor(50)\n    end\n})\n'})}),"\n",(0,i.jsx)(n.h3,{id:"cr\xe9er-des-entit\xe9s",children:"Cr\xe9er des entit\xe9s"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"darkrpmodification/lua/darkrp_customthings/entities.lua"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'DarkRP.createEntity("Imprimante d\'argent", {\n    ent = "money_printer",\n    model = "models/props_c17/consolebox01a.mdl",\n    price = 1500,\n    max = 3,\n    cmd = "buymoneyprinter",\n    allowed = {TEAM_MAFIA, TEAM_GANGSTER}\n})\n'})}),"\n",(0,i.jsx)(n.h3,{id:"shipments-caisses-darmes",children:"Shipments (Caisses d'armes)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"darkrpmodification/lua/darkrp_customthings/shipments.lua"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'DarkRP.createShipment("AK47", {\n    model = "models/weapons/w_rif_ak47.mdl",\n    entity = "m9k_ak47",\n    price = 5000,\n    amount = 10,\n    separate = true,\n    pricesep = 600,\n    noship = false,\n    allowed = {TEAM_GUN}\n})\n'})}),"\n",(0,i.jsx)(n.h2,{id:"optimisation-des-performances",children:"Optimisation des performances"}),"\n",(0,i.jsx)(n.h3,{id:"servercfg-optimis\xe9",children:"Server.cfg optimis\xe9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"// Tick et rates\nsv_parallel_packentities 1\nsv_parallel_sendsnapshot 1\n\n// Threading\nthreadpool_affinity 0\nmat_queue_mode 2\n\n// Network optimization\nnet_splitpacket_maxrate 50000\nnet_maxcleartime 0.001\n\n// Physics\nsv_turbophysics 1\nphys_timescale 1\nphys_pushscale 1\n\n// Think limits\ngmod_physiterations 2\nphys_speeds 1\n\n// Autres\nsv_hibernate_think 1\nfps_max 100\n"})}),"\n",(0,i.jsx)(n.h3,{id:"limiter-les-props-sandboxdarkrp",children:"Limiter les props (Sandbox/DarkRP)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"// Props limits\nsbox_maxprops 150\nsbox_maxragdolls 5\nsbox_maxvehicles 4\nsbox_maxeffects 50\nsbox_maxdynamite 0\nsbox_maxlamps 3\nsbox_maxthrusters 10\nsbox_maxwheels 4\nsbox_maxhoverballs 20\nsbox_maxballoons 10\nsbox_maxcameras 10\nsbox_maxbuttons 20\nsbox_noclip 0\n"})}),"\n",(0,i.jsx)(n.h3,{id:"cleanup-automatique",children:"Cleanup automatique"}),"\n",(0,i.jsxs)(n.p,{children:["Installez ",(0,i.jsx)(n.strong,{children:"Stacker Improved"})," ou ",(0,i.jsx)(n.strong,{children:"Prop Cleaner"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"// Config de cleanup\nsv_kickerrornum 0\nsv_timeout 120\n\n// Autodestruction props\nprop_auto_remove_delay 300\n"})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-ulxulib",children:"Configuration ULX/ULib"}),"\n",(0,i.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"Workshop ID: 557962280\n"})}),"\n",(0,i.jsx)(n.h3,{id:"groupes-et-permissions",children:"Groupes et permissions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"data/ulib/groups.txt"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'"superadmin"\n{\n    "allow"\n    {\n        "ulx rcon"\n        "ulx luarun"\n    }\n    "inherit_from" "admin"\n}\n\n"admin"\n{\n    "allow"\n    {\n        "ulx ban"\n        "ulx kick"\n        "ulx noclip"\n    }\n    "inherit_from" "operator"\n}\n\n"vip"\n{\n    "allow"\n    {\n        "ulx thirdperson"\n        "ulx god"\n    }\n    "inherit_from" "user"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"commandes-utiles",children:"Commandes utiles"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'// Promouvoir joueur\nulx adduser "Pseudo" superadmin\n\n// Bannir\nulx ban "Pseudo" 0 "Raison"\n\n// Kick\nulx kick "Pseudo" "Raison"\n\n// Map\nulx map rp_downtown_v4c_v2\n\n// Changer gamemode\nulx gamemode darkrp\n'})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-avanc\xe9e",children:"Configuration avanc\xe9e"}),"\n",(0,i.jsx)(n.h3,{id:"loading-screen-personnalis\xe9e",children:"Loading Screen personnalis\xe9e"}),"\n",(0,i.jsxs)(n.p,{children:["Cr\xe9ez ",(0,i.jsx)(n.code,{children:"loading.html"})," et h\xe9bergez-la :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n<head>\n    <title>Chargement...</title>\n    <style>\n        body {\n            background: #1a1a1a;\n            color: white;\n            font-family: Arial;\n            text-align: center;\n        }\n        .progress-bar {\n            width: 50%;\n            height: 30px;\n            background: #333;\n            margin: 20px auto;\n            border-radius: 15px;\n        }\n        .progress {\n            height: 100%;\n            background: linear-gradient(90deg, #ff6b00, #ff9500);\n            border-radius: 15px;\n            transition: width 0.3s;\n        }\n    </style>\n    <script>\n        function SetStatusChanged(status) {\n            document.getElementById("status").innerHTML = status;\n        }\n        function SetFilesTotal(total) {\n            document.getElementById("total").innerHTML = total;\n        }\n        function SetFilesNeeded(needed) {\n            var percent = (needed / total) * 100;\n            document.getElementById("progress").style.width = percent + "%";\n        }\n        function DownloadingFile(file) {\n            document.getElementById("file").innerHTML = file;\n        }\n    <\/script>\n</head>\n<body>\n    <h1>Bienvenue sur [NOM DU SERVEUR]</h1>\n    <h2 id="status">Chargement...</h2>\n    <div class="progress-bar">\n        <div class="progress" id="progress"></div>\n    </div>\n    <p id="file">Connexion au serveur...</p>\n    <p>Discord: discord.gg/xxxxx</p>\n</body>\n</html>\n'})}),"\n",(0,i.jsx)(n.p,{children:"Dans server.cfg :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'sv_loadingurl "https://monsite.com/loading.html"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"message-de-bienvenue-motd",children:"Message de bienvenue (MOTD)"}),"\n",(0,i.jsxs)(n.p,{children:["Cr\xe9ez ",(0,i.jsx)(n.code,{children:"garrysmod/settings/motd.txt"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n<body style="background:#222; color:white; font-family:Arial;">\n    <center>\n        <h1>Bienvenue sur notre serveur!</h1>\n        <h3>R\xe8gles du serveur:</h3>\n        <ul style="text-align:left; max-width:600px;">\n            <li>Pas de RDM (Random Death Match)</li>\n            <li>Respectez les autres joueurs</li>\n            <li>Pas de prop-block</li>\n            <li>Roleplay de qualit\xe9 requis</li>\n        </ul>\n        <p>Discord: <a href="https://discord.gg/xxxxx">discord.gg/xxxxx</a></p>\n    </center>\n</body>\n</html>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"mysql-pour-darkrp",children:"MySQL pour DarkRP"}),"\n",(0,i.jsx)(n.p,{children:"Configuration MySQL pour donn\xe9es persistantes :"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"garrysmod/sv.db"})," \u2192 MySQL"]}),"\n",(0,i.jsxs)(n.p,{children:["Installez ",(0,i.jsx)(n.strong,{children:"MySQLOO"})," :"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["T\xe9l\xe9chargez depuis ",(0,i.jsx)(n.a,{href:"https://github.com/FredyH/MySQLOO/releases",children:"https://github.com/FredyH/MySQLOO/releases"})]}),"\n",(0,i.jsxs)(n.li,{children:["Extrayez dans ",(0,i.jsx)(n.code,{children:"garrysmod/lua/bin/"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"darkrpmodification/lua/darkrp_config.lua"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'GM.Config.UseMysql = true\nGM.Config.MySQLServer = "localhost"\nGM.Config.MySQLUsername = "gmod_user"\nGM.Config.MySQLPassword = "password"\nGM.Config.MySQLDatabase = "gmod_darkrp"\nGM.Config.MySQLPort = 3306\n'})}),"\n",(0,i.jsx)(n.h2,{id:"anti-cheat-et-s\xe9curit\xe9",children:"Anti-cheat et s\xe9curit\xe9"}),"\n",(0,i.jsx)(n.h3,{id:"netvar-protection",children:"Netvar Protection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"// server.cfg\nsv_allowcslua 0\nsv_pure 1\nsv_pure_kick_clients 1\n"})}),"\n",(0,i.jsx)(n.h3,{id:"scanner-backdoors",children:"Scanner backdoors"}),"\n",(0,i.jsxs)(n.p,{children:["Installez ",(0,i.jsx)(n.strong,{children:"Backdoor Scanner"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Workshop: 1471796217\n"})}),"\n",(0,i.jsx)(n.p,{children:"Scannez r\xe9guli\xe8rement :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"ulx backdoorscanner\n"})}),"\n",(0,i.jsx)(n.h3,{id:"permissions-fichiers",children:"Permissions fichiers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Prot\xe9ger les fichiers sensibles\nchmod 600 garrysmod/cfg/server.cfg\nchmod 700 garrysmod/lua/autorun/server/\n"})}),"\n",(0,i.jsx)(n.h2,{id:"logs-et-monitoring",children:"Logs et monitoring"}),"\n",(0,i.jsx)(n.h3,{id:"logs-d\xe9taill\xe9s",children:"Logs d\xe9taill\xe9s"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"// server.cfg\nlog on\nsv_logbans 1\nsv_logecho 1\nsv_logfile 1\nsv_log_onefile 0\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Logs dans : ",(0,i.jsx)(n.code,{children:"garrysmod/logs/"})]}),"\n",(0,i.jsx)(n.h3,{id:"serverguard-logs",children:"ServerGuard Logs"}),"\n",(0,i.jsx)(n.p,{children:"Si vous utilisez ServerGuard :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'sgr_mysql_hostname "localhost"\nsgr_mysql_username "gmod"\nsgr_mysql_password "password"\nsgr_mysql_database "serverguard"\nsgr_mysql_port 3306\n'})}),"\n",(0,i.jsx)(n.h2,{id:"sauvegardes-automatiques",children:"Sauvegardes automatiques"}),"\n",(0,i.jsx)(n.p,{children:"Script de backup :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\n# backup-gmod.sh\n\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_DIR="/backups/gmod"\nSOURCE_DIR="/home/gmod/gmod-server/garrysmod"\n\nmkdir -p $BACKUP_DIR\n\ntar -czf $BACKUP_DIR/gmod_backup_$DATE.tar.gz \\\n    $SOURCE_DIR/data/ \\\n    $SOURCE_DIR/sv.db \\\n    $SOURCE_DIR/cfg/ \\\n    $SOURCE_DIR/addons/ \\\n    $SOURCE_DIR/gamemodes/darkrp/\n\n# Garder seulement 7 derniers backups\nfind $BACKUP_DIR -name "gmod_backup_*.tar.gz" -mtime +7 -delete\n\necho "Backup completed: gmod_backup_$DATE.tar.gz"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Automatiser avec cron :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"crontab -e\n0 3 * * * /root/backup-gmod.sh\n"})}),"\n",(0,i.jsx)(n.h2,{id:"d\xe9pannage",children:"D\xe9pannage"}),"\n",(0,i.jsx)(n.h3,{id:"connection-failed-after-4-retries",children:'"Connection failed after 4 retries"'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Causes :"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Port 27015 ferm\xe9"}),"\n",(0,i.jsx)(n.li,{children:"Mauvaise IP dans startup"}),"\n",(0,i.jsx)(n.li,{children:"Firewall bloque"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution :"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# V\xe9rifier port ouvert\nnetstat -tulpn | grep 27015\n\n# Ouvrir port\nufw allow 27015/tcp\nufw allow 27015/udp\n"})}),"\n",(0,i.jsx)(n.h3,{id:"pure-server-file-doesnt-match",children:'"Pure server: file doesn\'t match"'}),"\n",(0,i.jsx)(n.p,{children:"Fichiers modifi\xe9s par client."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution :"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"sv_pure 0  // Temporairement\n"})}),"\n",(0,i.jsx)(n.p,{children:"Ou nettoyez fichiers clients."}),"\n",(0,i.jsx)(n.h3,{id:"memory-leak",children:"Memory leak"}),"\n",(0,i.jsx)(n.p,{children:"Serveur utilise trop de RAM progressivement."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solutions :"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Red\xe9marrage automatique toutes les 6h"}),"\n",(0,i.jsx)(n.li,{children:"Limiter props plus strictement"}),"\n",(0,i.jsx)(n.li,{children:"Scanner addons probl\xe9matiques"}),"\n",(0,i.jsxs)(n.li,{children:["Utiliser ",(0,i.jsx)(n.strong,{children:"GMod Anti-Crash"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"lua-errors",children:"Lua errors"}),"\n",(0,i.jsx)(n.p,{children:"Consultez les logs :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"tail -f garrysmod/logs/server_log.txt\n"})}),"\n",(0,i.jsx)(n.p,{children:"Cherchez :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[ERROR]\n[DarkRP]\n[ULX]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ressources",children:"Ressources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://wiki.facepunch.com/gmod/",children:"GMod Wiki"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://darkrp.miraheze.org/",children:"DarkRP Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://ulyssesmod.net/",children:"ULX Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://steamcommunity.com/app/4000/workshop/",children:"Workshop GMod"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,i.jsxs)(n.p,{children:["Besoin d'aide ? ",(0,i.jsx)(n.a,{href:"https://discord.gg/UaHNnMarQA",children:"Discord LKL Cloud"})]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>l});var r=s(6540);const i={},a=r.createContext(i);function o(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);